<form
    class="form-horizontal"
    autocomplete="off"
    #createAlunoModal="ngForm"
    (ngSubmit)="save()">
    <abp-modal-header
    [title]="'Editar item do estoque' | localize"
    (onCloseClick)="bsModalRef.hide()">
    </abp-modal-header>
    <div class="modal-body">
        <tabset>
            <tab [heading]="'Info Geral' | localize" class="pt-3 px-2">
                <div class="form-group row required">
                    <label class="col-md-3 col-form-label" for="nome">
                        {{ "Nome" | localize }}
                    </label>
                    <div class="col-md-9">
                        <input
                            type="text"
                            class="form-control"
                            name="nome"
                            id="nome"
                            required
                            maxlength="200"
                            [(ngModel)]="itemEstoque.nome"
                            #nomeModel="ngModel"
                            #nomeEl/>
                        <abp-validation-summary
                            [control]="nomeModel"
                            [controlEl]="nomeEl">
                        </abp-validation-summary>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="desc">
                        {{ "Descricao" | localize }}
                    </label>
                    <div class="col-md-9">
                        <input
                            type="text"
                            class="form-control"
                            name="desc"
                            id="desc"
                            maxlength="500"
                            [(ngModel)]="itemEstoque.desc"
                            #descModel="ngModel"
                            #descEl/>
                        <abp-validation-summary
                            [control]="descModel"
                            [controlEl]="descEl">
                        </abp-validation-summary>
                    </div>
                </div>
                <div class="form-group row required">
                    <label class="col-md-3 col-form-label" for="unidade">
                        {{ "Unidade" | localize }}
                    </label>
                    <div class="col-md-9">
                        <input
                            type="text"
                            class="form-control"
                            name="unidade"
                            id="unidade"
                            required
                            maxlength="200"
                            [(ngModel)]="itemEstoque.unidade"
                            #unidadeModel="ngModel"
                            #unidadeEl/>
                        <abp-validation-summary
                            [control]="unidadeModel"
                            [controlEl]="unidadeEl">
                        </abp-validation-summary>
                    </div>
                </div>
            </tab>
            <tab [heading]="'Fluxo de Estoque' | localize" class="pt-3 px-2 col">
                <div class="pb-4" style="width: 100%; border-bottom: 1px solid gray; ">
                    <div class="row text-center" style="width: 100%;">
                        <label style="font-palette: light;">Abastecimentos de Estoque</label>
                    </div>
                    <ng-container class="row p-4" style="border-bottom: 1px solid gray;"
                        *ngFor="let abs of itemEstoque.novosAbastecimentos">
                        <fluxo-estoque-form [fluxo]="abs"></fluxo-estoque-form>
                    </ng-container>
                    <div class="row text-center" style="width: 100%;">
                        <a href="javascript:;" class="btn bg-blue" (click)="novoAbastecimento()">
                            <i class="fa fa-plus-square"></i>
                            {{ "Novo Abastecimento" | localize }}
                        </a>
                    </div>
                </div>
                <div class="pt-4" style="width: 100%;">
                    <div class="row text-center" style="width: 100%;">
                        <label style="font-palette: light;">Usos de Estoque</label>
                    </div>
                    <ng-container class="row p-4"
                        *ngFor="let uso of itemEstoque.novosUsos">
                        <fluxo-estoque-form [fluxo]="uso"></fluxo-estoque-form>
                    </ng-container>
                    <div class="row text-center" style="width: 100%;">
                        <a href="javascript:;" class="btn bg-blue" (click)="novoUso()">
                            <i class="fa fa-plus-square"></i>
                            {{ "Novo Uso" | localize }}
                        </a>
                    </div>
                </div>
            </tab>
        </tabset>
    </div>
    <abp-modal-footer
        [cancelDisabled]="saving"
        [saveDisabled]="!createAlunoModal.form.valid || saving"
        (onCancelClick)="bsModalRef.hide()">
    </abp-modal-footer>
</form>
